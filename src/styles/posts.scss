@use "@johnsiddoway/sass";
@use "./placeholders";
@use "./prism-vsc-dark-plus";

article header {
    @extend %post-header;

    h1 {
        margin: 0;
        font-size: sass.$font-size-xl;
    }
}

.mb-0 {
    margin-bottom: 0;
}

// Needed for the various Pillars of Eternity pages
dl {
    --dt-width: 15%;

    display: flex;
    flex-wrap: wrap;

    dt {
        font-weight: sass.$font-weight-bold;
        width: var(--dt-width);
    }

    dt + dt {
        width: 100%;
    }

    dd {
        margin-left: 0;
        width: calc(100% - var(--dt-width));
    }

    dd + dd {
        margin-left: var(--dt-width);
    }
}

// START: Anchor Links
.anchor-link {
    display: inline-block;
    margin-left: 1rem;
    opacity: 50%;
    text-decoration: none;
}

.anchor-link:hover {
    opacity: 100%;
}

.anchor-link:focus {
    outline: auto;
}

.anchor-link .hidden:not(:focus):not(:active) {
    border-width: 0!important;
    clip: rect(1px,1px,1px,1px)!important;
    height: 1px!important;
    overflow: hidden!important;
    padding: 0!important;
    position: absolute!important;
    white-space: nowrap!important;
    width: 1px!important
}
// END: Anchor Links

// Some posts use blockquotes right before code blocks to give them a header.
// This concept was copied from the example for the Jekyll Clean Dark theme
// https://pavelmakhov.com/jekyll-clean-dark/2016/10/code-syntax-highlighting/#:~:text=To%20add%20name%20to%20the%20code%20snippet
// Instead of requiring a blockquote with a specific class,
// I'm just checking to see if a blockquote is followed by a code block.
blockquote:has(+ pre) {
    margin: 1em 0 0 0;
    padding: 0.25em 1em;
    background-color: sass.$gray-20;
    color: var(--background);
    font-style: italic;

    p {
        margin-bottom: 0;
    }
}

blockquote + pre {
    margin-top: 0;
}

code {
    word-wrap: break-word;
}
