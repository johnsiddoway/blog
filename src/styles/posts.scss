@use "@johnsiddoway/sass";

.mb-0 {
    margin-bottom: 0;
}

// Needed for the various Pillars of Eternity pages
@include sass.dl;

code {
    word-wrap: break-word;
}

// Some posts use blockquotes right before code blocks to give them a header.
// This concept was copied from the example for the Jekyll Clean Dark theme
// https://pavelmakhov.com/jekyll-clean-dark/2016/10/code-syntax-highlighting/#:~:text=To%20add%20name%20to%20the%20code%20snippet
// Instead of requiring a blockquote with a specific class,
// I'm just checking to see if a blockquote is followed by a code block.
blockquote:has(+ pre) {
    margin: 1em 0 0 0;
    padding: 0.25em 1em;
    background-color: #{sass.$gray-10};
    color: var(--background);
    font-style: italic;

    p {
        margin-bottom: 0;
    }
}

blockquote + pre {
    margin-top: 0;
}

//  Based on the a11y-dark theme: https://github.com/highlightjs/highlight.js/blob/main/src/styles/a11y-dark.css
//  Manually setting colors based on theme colors

// Base highlight.js
pre code.hljs {
  display: block;
  overflow-x: auto;
  padding: 1em;
}
code.hljs {
  padding: 3px 5px;
}

.hljs {
  background: sass.$gray-20;
  color: sass.$light;
}

// Yellow
.hljs-comment,
.hljs-quote {
  color: sass.$yellow-60;
}

// Red
.hljs-deletion,
.hljs-name,
.hljs-regexp,
.hljs-selector-class,
.hljs-selector-id,
.hljs-tag,
.hljs-template-variable,
.hljs-variable {
  color: sass.$red-60;
}

// Orange
.hljs-built_in,
.hljs-link,
.hljs-literal,
.hljs-meta,
.hljs-number,
.hljs-params,
.hljs-type {
  color: sass.$orange-60;
}

// Gold
.hljs-attribute {
  color: gold;
}

// Green
.hljs-addition,
.hljs-bullet,
.hljs-string,
.hljs-symbol {
  color: sass.$green-60;
}

// Blue
.hljs-section,
.hljs-title {
  color: sass.$blue-60;
}

// Purple
.hljs-keyword,
.hljs-selector-tag {
  color: sass.$purple-60;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: sass.$font-weight-bold;
}

@media screen and (-ms-high-contrast: active) {
  .hljs-addition,
  .hljs-attribute,
  .hljs-built_in,
  .hljs-bullet,
  .hljs-comment,
  .hljs-link,
  .hljs-literal,
  .hljs-meta,
  .hljs-number,
  .hljs-params,
  .hljs-quote,
  .hljs-string,
  .hljs-symbol,
  .hljs-type {
    color: highlight;
  }
  
  .hljs-keyword,
  .hljs-selector-tag {
    font-weight: sass.$font-weight-bold;
  }
}
